

import AddButton from '../../common/AddButton';
import { ArrayFieldDescription } from './ArrayFieldDescription';
import { ArrayFieldTitle } from './ArrayFieldTitle';
import { DefaultArrayItem } from './DefaultArrayItem';

export function DefaultNormalArrayFieldTemplate(props: any) {
  return (
    <fieldset className={props.className} id={props.idSchema.$id}>
      <ArrayFieldTitle
        key={`array-field-title-${props.idSchema.$id}`}
        TitleField={props.TitleField}
        idSchema={props.idSchema}
        title={props.uiSchema['ui:title'] || props.title}
        required={props.required}
      />

      {(props.uiSchema['ui:description'] || props.schema.description) && (
        <ArrayFieldDescription
          key={`array-field-description-${props.idSchema.$id}`}
          DescriptionField={props.DescriptionField}
          idSchema={props.idSchema}
          description={props.uiSchema['ui:description'] || props.schema.description}
        />
      )}

      <div className="row array-item-list" key={`array-item-list-${props.idSchema.$id}`}>
        {props.items && props.items.map((p: any) => DefaultArrayItem(p))}
      </div>

      {props.canAdd && <AddButton className="array-item-add" onClick={props.onAddClick} disabled={props.disabled || props.readonly} />}
    </fieldset>
  );
}
